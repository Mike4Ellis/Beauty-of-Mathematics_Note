## 第12章 有限状态机和动态规划————地图与本低搜索的核心技术

### G1的诞生——告别导航仪

2008年，第一款基于安卓系统的智能手机G1发布，虽然外观及体验上远不如前一年苹果发布的第一款iPhone，但其杀手锏**利用全球卫星定位系统实现全球导航**，依然吸引了大波用户。

G1不仅可媲美任何一个卫星导航仪，还拥有比卫星导航仪严格的地址匹配技术（一个字母也不能错）更加强大的地址识别技术（采用有限状态机）。
它的诞生也使得麦哲伦等导航仪厂商在G1发布当天股价暴跌四成。

**由此可见，关键技术的出现可能会对市场估值产生巨大影响，从而产生股价。**

### 定位和导航的三项关键技术

#### 1. 卫星定位

#### 2. 地址识别

同一个地址可能会有五花八门的表示方法，就好像每个学生写的学校快递地址可能都不一样，但最后都被送到了东北大学。

对于邮递员来说，识别地址可能没问题，但如果让一个程序员写一个分析器来分析这些地址，恐怕就有些困难了。

根本原因在于，地址属于**上下文有关文法**。

对于地址的识别和分析，最有效的莫过于**有限状态机**。

##### 有限状态机

有限状态机是一个特殊的有向图，每一个有限状态机都有一个开始状态和一个终止状态，以及若干中间状态。每一条弧上带有从一个状态进入下一个状态的条件。

**如果一条地址能从状态机的开始状态经过状态机的若干中间状态，走到终止状态，则这条地址有效，否则无效。**

两个关键问题：

- 建立有限状态机

- 地址字串的匹配算法

不足：

有限状态机早期应用于编译器中，程序语言不需要模糊匹配，而自然语言则很随意。故当用户输入地址不标准或有误时，有限状态机会束手无策，它只能进行严格匹配。

改进：

基于概率的有限状态机——AT&T实验室开发的通用的基于概率的有限状态机C语言工具库

有限状态机用途广泛，比如Google Now。

#### 3. 规划路线

全球导航的关键算法——动态规划

中国公路图便可看作一张加权图，比如，
要想找到北京到广州的最短路线，将任何北京到广州的路线一分为二，那么最短路径必经过这一条线上的某个城市，
先寻找局部最短路线，将这条横切线从北京向广州推移。

### 语音识别和自然语言理解领域的妙用

有一种特殊的有限状态机在语音识别和自然语言理解领域中也起着非常重要的作用——加权的有限状态传感器WFST

**WFST是天然的自然语言处理的分析工具和解码工具。**
